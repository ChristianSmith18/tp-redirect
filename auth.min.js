window.TrustPortAuth={clientId:null,domainId:null,loadClient:function(e){this.clientId=e},loadDomain:function(e){this.domainId=e},init:function(){function e(e,t=!1){var n;let i=(n=TrustPortAuth.clientId).replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),o=RegExp(`^${i}-\\d{3}$`);return t?o.test(e):/^[a-zA-Z0-9+/=-]{12}$/.test(e)}let t=document.getElementById("tp-auth");if(!t){console.error("Falta agregar el ID del elemento.");return}if(!["DIV","BUTTON","INPUT"].includes(t.tagName)){console.error("No se encuentra el elemento HTML.");return}if("INPUT"===t.tagName&&"button"!==t.type){console.error("El elemento INPUT debe ser de tipo button.");return}if(!e(TrustPortAuth.clientId)){console.error("Formato de clientId inv\xe1lido.");return}if(!e(TrustPortAuth.domainId,!0)){console.error("Formato de domainId inv\xe1lido o no coincide con clientId.");return}t.addEventListener("click",function e(){window.location.href=`http://localhost:4200/authenticate?clientId=${TrustPortAuth.clientId}&domainId=${TrustPortAuth.domainId}`}),console.log("Servicio de autenticaci\xf3n configurado correctamente.")}},document.addEventListener("DOMContentLoaded",function(){window.TrustPortAuth&&TrustPortAuth.init()});
